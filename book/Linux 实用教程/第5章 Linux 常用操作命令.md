# 第5章 Linux常用操作命令

## 5.1 文本内容显示

### 5.1.1 cat: 显示文本文件

1. 使用 `cat` 命令可以显示文本文件的内容，也可以把几个文件内容附加到另一个文件中。如果没有指定文件，或者文件为 "-"，那么就从标准输入读取。语法如下：

    ```bash
    user@host:~$ cat [选项] [文件名]
    ```

    | 选项 | 选项含义 |
    |:----:|:------ |
    |  -n  | 对输出的所有行编号 |
    |  -b  | 对非空输出行编号 |
    |  -s  | 当遇到有连续两行以上的空白行时，就将其替换为一行的空白行 |
    |  -E  | 在每行结束处显示 $ |

2. 用例
    * 显示 `/etc/inittab` 文件的内容

        ```bash
        user@host:~$ cat /etc/inittab
        ```

    * 把文件 `textfile1` 的文件内容加上行号后输入到 `textfile2` 中，会覆盖掉 `textfile2` 中原有的内容

        ```bash
        user@host:~$ cat -n textfile1 > textfile2
        ```

    * 创建 `mm.txt` 文件

        ```bash
        user@host:~$ cat > mm.txt << EOF
        > Hello
        > Linux
        > EOF
        ```

### 5.1.2 more: 分页显示文本文件

1. 使用 `more` 命令可以分页显示文本文件的内容。按下空格键显示下一页内容，按 `b` 键返回显示上一页内容。命令语法如下：

    ```bash
    user@host:~$ more [选项] [文件名]
    ```

    | 选项 | 选项含义 ( n 代表数字 )|
    |:--- |:------------------- |
    | -f  | 计算行数时, 使用实际的行数, 而不是自动换行过后的行数 |
    | -p  | 不以卷动的方式显示每一页，而是先清除屏幕后再显示内容 |
    | -c  | 跟 -p 选项相似，不同的是先显示内容再清除其他旧资料 |
    | -s  | 当遇上有连续两行以上的空白行时，就将其替换为一行的空白行 |
    | -u  | 不显示下引号 |
    | +n  | 从第 n 行开始显示文件内容 |
    | -n  | 一次显示的行数 |

### 5.1.3 less: 回卷显示文本文件

### 5.1.4 head: 显示指定文件前若干行

1. `head` 命令可以显示指定文件的前若干行文件内容
    * 如果没有给出具体数值，则默认缺省值为 10 行
    * 如果指定了多个文件，`head` 会在每段输出的开始添加相应文件名作为头
    * 如果没有指定文件或文件为 "-"，则从标准输入读取
2. 命令语法如下：

    ```bash
    user@host:~$ head [选项] [文件名]
    ```

    |   选项    | 选项含义 ( K 代表数字 ) |
    |:-------- |:-------------------- |
    | -n <K\> | 显示每个文件前 K 行内容；如果附加 "-" 参数，则除了每个文件的最后 K 行外显示剩余全部内容 |
    | -c <K\> | 显示每个文件前 K 字节内容；如果附加 "-" 参数，则除了每个文件的最后 K 字节外显示剩余全部内容 |
    | -v       | 总是显示包含给定文件名的文件头 |

### 5.1.5 tail: 查看文件末尾数据

1. 使用 `tail` 命令可以查看文件的末尾数据
    * 默认显示指定文件的最后 10 行到标准输出
    * 如果指定了多个文件，`tail` 会在每段输出的开始添加相应文件名作为头
    * 如果不指定文件或文件为 "-"，则从标准输入读取数据
2. 命令语法

    ```bash
    user@host:~$ tail [选项] [文件名]
    ```

    |   选项   | 选项含义 ( K 代表数字 )|
    |:-------- |:------------------ |
    | -n <K\> | 输出最后 K 行，使用 -n+K 则从每个文件的第 K 行输出 |
    | -c <K\> | 输出最后 K 个字节，使用 -c+K 则从每个文件的第 K 字节输出 |
    | -f       | 即时输出文件变化后追加的数据 |
